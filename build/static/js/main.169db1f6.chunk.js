(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(38)},28:function(e,t,n){},29:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),c=n.n(r),l=(n(28),n(3)),i=n(4),u=n(6),d=n(5),s=n(7),m=(n(29),n(1)),f=n(11),h=n(22),p=o.a.createContext({folders:[],notes:[],addNotes:function(){}});function E(e){return e.hasError?o.a.createElement("div",{className:"folder-name-input-error"},e.message):o.a.createElement(o.a.Fragment,null)}var b=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleInput=function(e){n.setState({name:e},function(){return n.validateName(e)})},n.formSubmithandle=function(e){e.preventDefault(),fetch("https://warm-escarpment-68427.herokuapp.com/api/folders",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({folder_name:n.state.name})}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw new Error(e)})}).then(function(e){n.context.addFolder(e),n.props.history.push("/")})},n.validateName=function(e){var t=Object(h.a)({},n.state.validationMessages),a=!1;0===e.length?(t.name="Name is required",a=!0):(t.name="",a=!1),n.setState({validationMessages:t,nameValid:!a})},n.state={name:"",nameValid:!1,validationMessages:{name:""}},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"add-new-folder-container"},o.a.createElement("form",{className:"add-new-folder-form",onSubmit:function(t){return e.formSubmithandle(t)}},o.a.createElement("h5",null,"Create a folder"),o.a.createElement("label",null," Name:",o.a.createElement("input",{id:"add-folder",name:"add-folder",onChange:function(t){return e.handleInput(t.target.value)}}),o.a.createElement(E,{hasError:!this.state.nameValid,message:this.state.validationMessages.name})),o.a.createElement("button",{type:"submit"},"Submit")),o.a.createElement(m.b,{to:"/"},"Back"))}}]),t}(o.a.Component);b.contextType=p;var v=b,j=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("ul",null,this.context.folders.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(m.b,{to:"/folder/".concat(e.id)},e.folder_name))}),o.a.createElement("div",{className:"add_folder"},o.a.createElement(m.b,{to:"/folder/addFolder"},"Add folder")))}}]),t}(o.a.Component);j.contextType=p;var O=j,y=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.context.notes.filter(function(t){return Number(t.folder)===Number(e.props.match.params.folderId)});return o.a.createElement("ul",null,t.map(function(t){return o.a.createElement("li",{key:t.id},o.a.createElement(m.b,{to:"/note/".concat(t.id)},o.a.createElement("h6",null,t.note_name)),o.a.createElement("span",null,"Modified ",t.date_added),o.a.createElement("button",{onClick:function(){return n=t.id,a=e.context.removeNote,void fetch("https://warm-escarpment-68427.herokuapp.com/api/notes/".concat(n),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(){a(n)});var n,a}},"Remove"))}),o.a.createElement(m.b,{to:"/notes/addNote"},"Add note"))}}]),t}(o.a.Component);y.contextType=p;var N=y,k=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("ul",null,this.context.notes.map(function(t){return o.a.createElement("li",{key:t.id},o.a.createElement(m.b,{to:"/note/".concat(t.id)},o.a.createElement("h6",null,t.note_name)),o.a.createElement("span",null,"Modified ",t.date_added),o.a.createElement("button",{onClick:function(){return n=t.id,a=e.context.removeNote,void fetch("http://localhost:9090/api/notes/".concat(n),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw new Error(e)})}).then(function(){a(n)});var n,a}},"Remove"))}),o.a.createElement("div",{className:"add_note"},o.a.createElement(m.b,{to:"/notes/addNote"},"Add note")))}}]),t}(o.a.Component);k.contextType=p;var w=k,x=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={note:"",noteId:""},n.noteRemoveRequest=function(e,t){fetch("https://warm-escarpment-68427.herokuapp.com/api/notes/".concat(e),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw new Error(e)})}).then(function(){n.props.history.push("/"),t(e)}).catch(function(e){return console.log(e)})},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.context.notes.filter(function(t){return t.id===Number(e.props.match.params.noteId)}),n=t[0].id;return o.a.createElement("div",{className:"note"},o.a.createElement("ul",null,o.a.createElement("li",{key:n},o.a.createElement(m.b,{to:"/note/".concat(n)},o.a.createElement("h6",null,t[0].note_name)),o.a.createElement("span",null,"Modified ",t[0].date_added))),t[0].content,o.a.createElement("button",{className:"remove_note",onClick:function(){return e.noteRemoveRequest(n,e.context.removeNote)}},"Remove"),o.a.createElement(m.b,{to:"/folder/".concat(t[0].folderId)},"Return"))}}]),t}(o.a.Component);x.contextType=p;var S=x,g=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("ul",null,this.context.folders.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(m.b,{to:"/folder/".concat(e.id)},e.folder_name))}),o.a.createElement("div",{className:"add_folder"},o.a.createElement(m.b,{to:"/folder/addFolder"},"Add folder")))}}]),t}(o.a.Component);g.contextType=p;var C=g,_=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).newNoteRequest=function(e){e.preventDefault(),n.state.folder&&fetch("https://warm-escarpment-68427.herokuapp.com/api/notes",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n.state)}).then(function(e){if(!e.ok)throw new Error("error");return e.json()}).then(function(e){n.context.addNote(e),n.props.history.push("/folder/".concat(n.state.folder))})},n.inputNameHanle=function(e){n.setState({note_name:e.target.value})},n.inputContentHandle=function(e){n.setState({content:e.target.value})},n.inputFolderHandle=function(e){var t=e.target.value,a=n.context.folders.filter(function(e){return e.folder_name===t});n.setState({folder:a[0].id})},n.state={note_name:"",content:"",folder:""},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.context.folders.map(function(e){return o.a.createElement("option",{id:e.id,key:e.id},e.folder_name)});return o.a.createElement("div",{className:"add-note-container"},o.a.createElement("form",{className:"add-note-form",onSubmit:function(t){return e.newNoteRequest(t)}},o.a.createElement("label",null,"Name",o.a.createElement("input",{placeholder:"name",onChange:function(t){return e.inputNameHanle(t)}})),o.a.createElement("label",null,"Content",o.a.createElement("textarea",{placeholder:"content",onChange:function(t){return e.inputContentHandle(t)}})),o.a.createElement("label",null,"Folder",o.a.createElement("select",{onChange:function(t){return e.inputFolderHandle(t)}},o.a.createElement("option",null,"choose folder"),t)),o.a.createElement("button",{type:"submit"},"Submit")),o.a.createElement(m.b,{to:"/"},"Back"))}}]),t}(o.a.Component);_.contextType=p;var H=_,T=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).removeNoteHandle=function(e){var t=n.state.notes.filter(function(t){return t.id!==e});n.setState({notes:t})},n.addFolderHandle=function(e){var t=n.state.folders;t.push(e),n.setState({folders:t})},n.addNoteHandle=function(e){var t=n.state.notes;t.push(e),n.setState({notes:t})},n.state={folders:[],notes:[],error:""},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://warm-escarpment-68427.herokuapp.com/api/folders").then(function(e){return e.ok?e.json():e.json().then(function(e){throw new Error(e)})}).then(function(t){e.setState({folders:t})}).catch(function(t){e.setState({error:t})}),fetch("https://warm-escarpment-68427.herokuapp.com/api/notes").then(function(e){return e.ok?e.json():e.json().then(function(e){throw new Error(e)})}).then(function(t){e.setState({notes:t})}).catch(function(t){e.setState({error:t})})}},{key:"render",value:function(){var e={folders:this.state.folders,notes:this.state.notes,removeNote:this.removeNoteHandle,addFolder:this.addFolderHandle,addNote:this.addNoteHandle};return o.a.createElement(p.Provider,{value:e},o.a.createElement("div",{className:"App"},o.a.createElement("header",null,o.a.createElement(m.b,{to:"/"},o.a.createElement("h1",null,"Noteful"))),o.a.createElement("nav",null,o.a.createElement(f.a,{exact:!0,path:"/",component:O}),o.a.createElement(f.a,{path:"/folder",component:C})),o.a.createElement("main",null,o.a.createElement(f.a,{exact:!0,path:"/",component:w}),o.a.createElement(f.a,{path:"/folder/:folderId",component:N}),o.a.createElement(f.a,{path:"/note/:noteId",component:S}),o.a.createElement(f.a,{path:"/folder/addFolder",component:v}),o.a.createElement(f.a,{path:"/notes/addNote",component:H}))))}}]),t}(a.Component);c.a.render(o.a.createElement(m.a,null,o.a.createElement(T,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.169db1f6.chunk.js.map